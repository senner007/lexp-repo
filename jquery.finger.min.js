/*! jquery.finger - v0.1.0-alpha.1 - 2013-07-28
* https://github.com/ngryman/jquery.finger
* Copyright (c) 2013 Nicolas Gryman; Licensed MIT */
(function(t){function e(t,e){return(v?e.originalEvent.touches[0]:e)["page"+t.toUpperCase()]}function a(e,a,n){return t.Event(e,t.extend(a,{originalEvent:n}))}function n(n){var v={},d=n.timeStamp||+new Date,c=t.data(this,l);i!=d&&(i=d,v.move={x:e("x",n),y:e("y",n)},v.start=t.extend({time:d,target:n.target},v.move),v.timeout=setTimeout(t.proxy(function(){t.event.trigger(a("press",v.move,n),null,n.target),t.event.remove(this,u+"."+l,o),t.event.remove(this,s+"."+l,r)},this),t.Finger.pressDuration),t.event.add(this,u+"."+l,o,v),t.event.add(this,s+"."+l,r,v),(m.preventDefault||c.options.preventDefault)&&n.preventDefault())}function o(n){var o=n.data,i=o.start,v=o.move;return v.x=e("x",n),v.y=e("y",n),v.dx=v.x-i.x,v.dy=v.y-i.y,v.adx=Math.abs(v.dx),v.ady=Math.abs(v.dy),o.motion=v.adx>m.motionThreshold||v.ady>m.motionThreshold,o.motion?(clearTimeout(o.timeout),v.orientation||(v.adx>o.move.ady?(v.orientation="horizontal",v.direction=v.dx>0?1:-1):(v.orientation="vertical",v.direction=v.dy>0?1:-1)),n.target!==i.target?(n.target=i.target,r.call(this,a(s+"."+l,n)),void 0):(t.event.trigger(a("drag",v,n),null,n.target),void 0)):void 0}function r(e){var n,i=e.data,v=e.timeStamp||+new Date,d=t.data(this,l),c=v-i.start.time;clearTimeout(i.timeout),e.target===i.start.target&&(i.motion?(m.flickDuration>c&&t.event.trigger(a("flick",i.move,e),null,e.target),i.move.end=!0,t.event.trigger(a("drag",i.move,e),null,e.target)):(n=m.pressDuration>c&&!d.prev||d.prev&&v-d.prev>m.doubleTapInterval?"tap":"doubletap",d.prev=v,t.event.trigger(a(n,i.move,e),null,e.target)),t.event.remove(this,u+"."+l,o),t.event.remove(this,s+"."+l,r))}var i,v="ontouchstart"in window,d=v?"touchstart":"mousedown",s=v?"touchend touchcancel":"mouseup mouseleave",u=v?"touchmove":"mousemove",l="finger",m=t.Finger={pressDuration:300,doubleTapInterval:300,flickDuration:150,motionThreshold:5},c={add:function(e){t.data(this,l)||(t.event.add(this,d+"."+l,n),t.data(this,l,{options:e.data||{}}))},teardown:function(){t.data(this,l)&&(t.event.remove(this,d+"."+l,n),t.data(this,l,null))}};t.event.special.tap=c,t.event.special.press=c,t.event.special.doubletap=c,t.event.special.drag=c,t.event.special.flick=c})(jQuery);